<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><title>A Frog Boiling Approach to Increasing Test Coverage | HeyRod.com</title><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/bootstrap.min.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/hjs/railscasts.min.css"><style></style></head><body role="document"><nav class="navbar navbar-inverse" role="navigation"><div class="container"><div class="navbar-header"><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#main-nav" aria-expanded="false"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a class="navbar-brand" href="/">HeyRod.com</a></div><div  id="main-nav" class="collapse navbar-collapse"><ul class="nav navbar-nav navbar-right"><li><a href="/"><i class='fa fa-home'></i>&nbsp;&nbsp;Home</a></li><li><a href="/projects/"><i class='fa fa-briefcase'></i>&nbsp;&nbsp;Projects</a></li><li class="active"><a href="/articles/"><i class='fa fa-book'></i>&nbsp;&nbsp;Articles <span class="sr-only">(current)</span></a></li><li><a href="/snippets/"><i class='fa fa-hashtag'></i>&nbsp;&nbsp;Snippets</a></li></ul></div></div></nav><div class="wrapper"><div class="main-container"><div class="container"><div class="row"><div class="col-md-2 text-center"><a href="/"><img src="/img/rod-fc-circle-on-white-200x200.png" height="100" width="100"></a><br>&nbsp;<br>Rodney Waldhoff<br><a href="http://heyrod.com/"><i class="fa fa-cloud"></i> HeyRod.com</a><br><a href="mailto:rwaldhoff+heyrod.com@gmail.com"><i class="fa fa-envelope"></i>  Email</a><br>&nbsp;<br><a href="https://github.com/rodw/"><i class="fa fa-github-alt"></i> GitHub</a><br><a href="http://stackoverflow.com/users/1225825/rod"><i class="fa fa-stack-overflow"></i> StackOverflow</a><br><a href="https://www.linkedin.com/in/rwald"><i class="fa fa-linkedin"></i> LinkedIn</a><br>&nbsp;</div><div class="col-md-10"><h1 id="a-frog-boiling-approach-to-increasing-test-coverage">A Frog Boiling Approach to Increasing Test Coverage</h1>
<p><div style="color:#333">(Back in 2003 I ran <a href="http://radio.weblogs.com/0122027/">a moderately popular tech blog</a> on the Radio UserLand platform.  This is an archived version of a post from that blog. You can view <a href="/articles/radio-blog/index.html">an index of all the archived posts</a>.)</div><hr>
<b>Monday, 23 June 2003</b></p>
<p>
Some thinking out loud about concrete goals for increasing test coverage:
</p><p>
The production (i.e., non-test) Java code base at my day job consists of roughly 103,000 non-comment, non-blank lines of code, split over 132 &quot;modules&quot;.  Our automated unit test suite exercises roughly 29% of those lines.
</p><p>
(That 29% figure sounds a little bit worse than it feels to me.  Some areas of the code base are well tested, several are even at 100% coverage.  Others have few if any tests, but as a result of remaining essentially untouched since before a formal unit testing initiative was launched 30 months or so ago.  Yet many modules are woefully under-tested, and probably not coincidentally several of those have substantial bloat--the number of lines in those modules is way out of proportion with the functionality they provide.)
</p><p>
Whether that 29% figure is indicative or not, it&#39;s clearly much lower than desirable.  (Personally I&#39;ve been striving for and generally achieving 100% coverage for new development.)   I&#39;ve been thinking a bit about laying out concrete goals for increasing this coverage.
</p><p>
We&#39;ve talked a bit about simply targeting some figure, say 80% coverage, and perhaps some intermediate goals (for example, 40%, then 60%, then 80%).
</p><p>
While the &quot;frog boiling&quot; approach--slowly raising the temperature on test coverage--appeals to me, something about the arbitrary &quot;percent coverage&quot; goals doesn&#39;t seem right.  I think I&#39;d prefer goals that call for complete (100%) coverage of something, perhaps with different values of &quot;something&quot;.  I&#39;m not entirely sure why.
</p><p>
Specifically, I&#39;m thinking of the following stages:
</p>
<ol>
<li>All modules have tests.  Conveniently, this can be easily and quickly tested at build time.  We can make the absence of tests a build failure.  It is possible to programmatically evaluate the remaining goals, but not as quickly.  We&#39;d have to execute the test coverage check on every continuous integration build, something that may take too much time.</li>
<li>All packages have tests.  This should be relatively easy to achieve once the first goal is reached.</li>
<li>All classes have tests.</li>
<li>All methods have tests.</li>
</ol>
<p>
I&#39;m not sure where to go from that point.  Complete coverage of conditionals (every boolean expression is evaluated at least once to true and at least once to false) may be a good next step, but isn&#39;t as pithy as the other goals.  It may be that once we&#39;ve reached 100% method coverage, 100% line/statement coverage is within easy reach.  I suspect that once we&#39;ve reached that fourth goal, the next step will be pretty clear.
</p><p>
I wonder if any reader has some experience with similar strategies for increasing test coverage through a series of concrete goals.  What goals did you select, and why?  Did a given step turn out to be too large or too small?
</p></div></div></div></div></div><hr style="width:100%"><div class="container"><div class="row"><div class="col-md-4 text-muted">This page was generated at 4:35 PM on 17 Dec 2015.</div><div class="col-md-4 text-muted text-center"><a href="http://heyrod.com/">HeyRod.com</a></div><div class="col-md-4 text-muted text-right">Copyright &copy; 1999 - 2015 Rodney Waldhoff.</div><br>&nbsp;</div></div><script type="text/javascript" src="/js/jquery.min.js"></script><script type="text/javascript" src="/js/ugly.js"></script><script type="text/javascript" src="/js/highlight.min.js"></script><script type="text/javascript" src="/js/bootstrap.min.js"></script><script type="text/javascript">var _gaq = _gaq || [];_gaq.push(['_setAccount', 'UA-34329491-1']);_gaq.push(['_trackPageview']);(function() {var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);})();</script><script type="text/javascript">window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create', 'UA-34329491-1', 'auto');ga('send', 'pageview');</script><script async src='//www.google-analytics.com/analytics.js'></script></body></html>