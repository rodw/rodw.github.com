<!DOCTYPE html>

<!--[if lt IE 7 ]><html class="ie ie6" lang="en"> <![endif]-->
<!--[if IE 7 ]><html class="ie ie7" lang="en"> <![endif]-->
<!--[if IE 8 ]><html class="ie ie8" lang="en"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!--><html lang="en"> <!--<![endif]-->
<head>
	<meta charset="utf-8">
  <title>6 emacs snippets</title>
	
	<meta name="author" content="rod">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<link rel="stylesheet" href="/css/skeleton-all-min.css">
	<link rel="stylesheet" href="/css/style.css">
  
	<!--[if lt IE 9]>
		<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->

  
  <link rel="icon" type="image/svg+xml" href="img/braindump-mod.svg"/>
	<link rel="alternate shortcut icon" href="img/favicon.ico">
	<link rel="apple-touch-icon" sizes="57x57" href="img/braindump-57x57.png">
	<link rel="apple-touch-icon" sizes="72x72" href="img/braindump-72x72.png">
	<link rel="apple-touch-icon" sizes="114x114" href="img/braindump-114x114.png">
	<link rel="apple-touch-icon" sizes="144x144" href="img/braindump-144x144.png">
  <link rel="apple-touch-startup-image" sizes="320x460" href="img/startup-320x460.png">
</head>

<body>
    
  

  <nav id="primary">
    <div class="container">
      <div class="fourteen columns offset-by-two">
        <ul>
          
            
            
            <li class="" >
              <a class="" href="/">Home</a>
            </li>
          
            
            
            <li class="" >
              <a class="" href="/project">Projects</a>
            </li>
          
            
            
              
            
            <li class="active" >
              <a class="active" href="/snippet">Snippets</a>
            </li>
          
        </ul>
      </div>
    </div>
  </nav>
  
  

  <div id="main">
    <div class="container">

      

      <div class="three columns align-center">
        <div style="margin-top:50px;"><a href="/"><img src="/img/braindump-64x64.png" height="64" width="64"></a></div>
        <div class="mtop"><a href="/" class="nobr nou" style="color:#555;"><b>Rodney Waldhoff</b></a></div>
        <ul class="mtop">
          <li><a class="flatbutton" href="https://github.com/rodw"><img style="vertical-align:middle; float:left;" src="/img/octocat-24x24.png" height="24" width="24"><span class="float-right">GitHub</span></a></li>
          <li><a class="flatbutton" href="http://www.linkedin.com/in/rwald"><img style="vertical-align:middle; float:left;" src="/img/linkedin-24x24.png" height="24" width="24"><span class="float-right">LinkedIn</span></a></a></li>
        </ul>
      </div>

      

      

      
        <div class="thirteen columns">
          <div id="page-header" class="half-bottom mtop">
            <h1 class=" remove-bottom">6 emacs snippets</h1>
            <div class="page-class remove-bottom">
              
                  <a href="/snippet">Snippets</a> are tiny notes I've collected for easy reference.
                
            </div>
          </div>
          
        </div>
      

      

      <div class="thirteen columns bulleted">
        
  <div class="snippet">
    <h2 class="half-bottom">Simple emacs mode for .gitignore files.</h2>
    <div>
      <p>Through the power of <a href="http://emacswiki.org/emacs/GenericMode">generic-mode</a>, adding the following lines to your <code>.emacs</code> file will add syntax-coloring support for <code>.gitignore</code>, <code>.svnignore</code>, etc. files.  And by &ldquo;syntax-coloring&rdquo; I mean that lines that start with a <code>#</code> will be marked as comments.</p>

<div class="highlight"><pre><code class="cl"><span class="p">(</span><span class="nb">require</span> <span class="ss">&#39;generic-x</span><span class="p">)</span>
<span class="p">(</span><span class="nv">add-to-list</span> <span class="ss">&#39;auto-mode-alist</span> <span class="o">&#39;</span><span class="p">(</span><span class="s">&quot;\\..*ignore$&quot;</span> <span class="o">.</span> <span class="nv">hosts-generic-mode</span><span class="p">))</span>
</code></pre>
</div>


<p>Actually, any text after an un-escaped <code>#</code> will be marked as a comment, which isn&rsquo;t the way Git and SVN interpret those files. (TODO: it would be pretty simple to add a dot-ignore-generic-mode that handles this correctly.)</p>

    </div>
    <div class="align-right">
      <small>Tags: <a href="/snippet/emacs.html">emacs</a> and <a href="/snippet/todo.html">todo</a>.</small>
    </div>    
    
  </div>
  <!-- <hr/> -->

  <div class="snippet">
    <h2 class="half-bottom">Spell checking cheat-sheet for emacs.</h2>
    <div>
      <ul>
<li><code>M-$</code> &ndash; <code>ispell-word</code> or <code>ispell-region</code> (depending on whether something is selected)</li>
<li><code>[SPACE]</code> &ndash; Skip this word—continue to consider it incorrect, but don&rsquo;t change it here.</li>
<li><code>r newword [RETURN]</code> &ndash; Replace the word, just this time, with new. (The replacement string will be rescanned for more spelling errors.)</li>
<li><code>R new [RETURN]</code> &ndash; Replace the word with new, and do a query-replace so you can replace it elsewhere in the buffer if you wish. (The replacements will be rescanned for more spelling errors.)</li>
<li><code>a</code> &ndash; Accept the incorrect word—treat it as correct, but only in this editing session.</li>
<li><code>A</code> &ndash; Accept the incorrect word—treat it as correct, but only in this editing session and for this buffer.</li>
<li><code>i</code> &ndash; Insert this word in your private dictionary file so that Aspell or Ispell or Hunspell will consider it correct from now on, even in future sessions.</li>
<li><code>m</code> &ndash; Like <code>i</code>, but you can also specify dictionary completion information.</li>
<li><code>u</code> &ndash; Insert the lower-case version of this word in your private dictionary file.</li>
<li><code>l word [RETURN]</code> &ndash; Look in the dictionary for words that match word. These words become the new list of “near-misses”; you can select one of them as the replacement by typing a digit. You can use <code>*</code> in word as a wildcard.</li>
<li><code>C-g X</code> &ndash; Quit interactive spell checking, leaving point at the word that was being checked. You can restart checking again afterward with <code>C-u M-$</code>.</li>
<li><code>x</code> &ndash; Quit interactive spell checking and move point back to where it was when you started spell checking.</li>
<li><code>q</code> &ndash; Quit interactive spell checking and kill the spell-checker subprocess.</li>
<li><code>?</code> &ndash; Help</li>
</ul>


    </div>
    <div class="align-right">
      <small>Tags: <a href="/snippet/emacs.html">emacs</a>.</small>
    </div>    
    <div class="align-right"><small>Credit: Via <a href="http://www.gnu.org/software/emacs/manual/html_node/emacs/Spelling.html">the emacs FAQ</a>.</small></div>
  </div>
  <!-- <hr/> -->

  <div class="snippet">
    <h2 class="half-bottom">Using (quoted-insert), or how to enter a newline character in the emacs minibuffer.</h2>
    <div>
      <p>To insert a newline character in the mini-buffer, use <code>(quoted-insert)</code>:</p>

<div class="highlight"><pre><code class="text">C-q C-j
</code></pre>
</div>




    </div>
    <div class="align-right">
      <small>Tags: <a href="/snippet/emacs.html">emacs</a>.</small>
    </div>    
    <div class="align-right"><small>Credit: Via <a href="http://jeremy.zawodny.com/blog/archives/008872.html">jwz</a>.</small></div>
  </div>
  <!-- <hr/> -->

  <div class="snippet">
    <h2 class="half-bottom">dos2unix in emacs</h2>
    <div>
      <p>Replace <code>^M</code> with nothing:</p>

<div class="highlight"><pre><code class="text">M-% C-q C-m [RETURN] [RETURN]
</code></pre>
</div>


<p><code>M-%</code> is bound to <code>(query-replace)</code>. <code>C-q</code> is bound to <code>(quoted-insert)</code>, which allows <code>C-m</code> to insert the control character <code>^M</code>.</p>

    </div>
    <div class="align-right">
      <small>Tags: <a href="/snippet/emacs.html">emacs</a>.</small>
    </div>    
    
  </div>
  <!-- <hr/> -->

  <div class="snippet">
    <h2 class="half-bottom">Case insensitive `sort-lines` in emacs.</h2>
    <div>
      

<div class="highlight"><pre><code class="text">M-x set-variable [RETURN] sort-fold-case [RETURN] t [RETURN]
M-x sort-lines
</code></pre>
</div>




    </div>
    <div class="align-right">
      <small>Tags: <a href="/snippet/emacs.html">emacs</a>.</small>
    </div>    
    
  </div>
  <!-- <hr/> -->

  <div class="snippet">
    <h2 class="half-bottom">Using js-mode's indent logic in js2-mode.</h2>
    <div>
      <p>Steve Yegge&rsquo;s <a href="http://code.google.com/p/js2-mode/">js2-mode</a> is a sweet major mode for working with JavaScript in Emacs, but its auto-indentation logic is <a href="http://stackoverflow.com/questions/2370028/emacs-js2-mode-disable-indenting-completely">notoriously frustrating</a>.</p>

<p>Here&rsquo;s a a somewhat hack-y workaround: switch to <code>javascript-mode</code> before calling <code>indent-region</code> and then switch back.</p>

<div class="highlight"><pre><code class="cl"><span class="c1">;; use js-mode&#39;s indent logic, by pressing C-M-| (C-M-S-\)</span>
<span class="p">(</span><span class="nb">defun</span> <span class="nv">rlw/js-indent-region</span> <span class="p">()</span> <span class="p">(</span><span class="nv">interactive</span><span class="p">)</span> <span class="p">(</span><span class="nv">js-mode</span><span class="p">)</span> <span class="p">(</span><span class="nv">indent-region</span> <span class="p">(</span><span class="nv">region-beginning</span><span class="p">)</span> <span class="p">(</span><span class="nv">region-end</span><span class="p">))</span> <span class="p">(</span><span class="nv">js2-mode</span><span class="p">)</span> <span class="p">)</span>
<span class="p">(</span><span class="nv">define-key</span> <span class="nv">js2-mode-map</span> <span class="p">(</span><span class="nv">kbd</span> <span class="s">&quot;C-M-|&quot;</span><span class="p">)</span> <span class="ss">&#39;rlw/js-indent-region</span><span class="p">)</span>
</code></pre>
</div>


<p>PS: I haven&rsquo;t yet had a chance to sort these out, but there are at least four or five JavaScript modes:</p>

<ul>
<li><a href="https://github.com/mooz/js2-mode">mooz&rsquo;s fork of js2-mode</a></li>
<li><a href="https://github.com/thomblake/js3-mode">thomblake&rsquo;s js3-mode</a></li>
<li>I think the defunct <a href="http://www.nongnu.org/espresso/">espresso-mode</a> is now the built-in <code>js-mode</code>.</li>
<li>I&rsquo;m not sure where that leaves <code>javascript-mode</code>.  Also defunct I think.</li>
<li>Steve Yegge&rsquo;s <a href="http://code.google.com/p/js2-mode/">js2-mode</a></li>
</ul>


<p>The first two are supposed to address js2-mode&rsquo;s indentation problems (among other enhancements).</p>

    </div>
    <div class="align-right">
      <small>Tags: <a href="/snippet/emacs.html">emacs</a> and <a href="/snippet/javascript.html">javascript</a>.</small>
    </div>    
    
  </div>
  <!-- <hr/> -->



      </div>

    </div>
  </div>

  

  <div id="footer">
    <div class="container">
      <div class="sixteen columns align-center">
        <p class="half-bottom">
          <span class="nobr">rw&#97;ldho<script language="javascript">(function(){var f=function(c) { document.write(String.fromCharCode(c)); }; f(0146); f(0x66); f(0100); })();</script>g&#109;ail&#46;com</span>
          &nbsp;|&nbsp;
          <span class="nobr">(&#55;03) 5&#51;5-6<script language="javascript">document.write("0"); document.write((4-3+1)+"");</script>6</span>
        </p>
        <p class="half-bottom">
          <span class="nobr"><a href="/">heyrod.com</a></span>
          &nbsp;|&nbsp;
          <span class="nobr"><a class="pointer" onclick="(function(){document.getElementById('caveator').className = (document.getElementById('caveator').className == 'off') ? 'on' : 'off';})(); return false">small print</a></span>
          &nbsp;|&nbsp;
          <span class="nobr"><a href="/page/colophon.html">credits</a></span>
        </p>
        <p class="half-bottom">&copy; Copyright 2012 Rodney Waldhoff.</p>
        <div id="caveator" class="off">
          <p class="smallprint">
            Except for content that belongs to someone else. Then the copyright belongs to whomever it belongs to.
            The views expressed here are solely my own. They do not reflect in any way those of any institution, organization or group with which I am affiliated. My wife probably disagrees with me too. I can't even promise that <i>I</i> agree with anything you read here.
            Also, I'm not a doctor or a lawyer or really qualified to be giving any advice at all. Ipso facto caveat emptor inter alia. This page was generated at 12:38 AM on 15 August 2012. Tempus fugit.
          </p>
        </div>
      </div>
    </div>
  </div>
</body>
</html>

