<!DOCTYPE html>

<!--[if lt IE 7 ]><html class="ie ie6" lang="en"> <![endif]-->
<!--[if IE 7 ]><html class="ie ie7" lang="en"> <![endif]-->
<!--[if IE 8 ]><html class="ie ie8" lang="en"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!--><html lang="en"> <!--<![endif]-->
<head>
	<meta charset="utf-8">
  <title>3 html snippets</title>
	
	<meta name="author" content="rod">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
	<!--[if lt IE 9]>
		<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->

  
  <link rel="icon" type="image/svg+xml" href="img/braindump-mod.svg"/>
	<link rel="alternate shortcut icon" href="img/favicon.ico">
	<link rel="apple-touch-icon" sizes="57x57" href="img/braindump-57x57.png">
	<link rel="apple-touch-icon" sizes="72x72" href="img/braindump-72x72.png">
	<link rel="apple-touch-icon" sizes="114x114" href="img/braindump-114x114.png">
	<link rel="apple-touch-icon" sizes="144x144" href="img/braindump-144x144.png">
  <link rel="apple-touch-startup-image" sizes="320x460" href="img/startup-320x460.png">

	<link rel="stylesheet" href="/css/skeleton-all-min.css">
	<link rel="stylesheet" href="/css/style.min.css">

  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-34329491-1']);
    _gaq.push(['_trackPageview']);
    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>

</head>

<body>

  

  <nav id="primary">
    <div class="container">
      <div class="fourteen columns offset-by-two">
        <ul>
          
            
            
            <li class="" >
              <a class="" href="/">Home</a>
            </li>
          
            
            
            <li class="" >
              <a class="" href="/project">Projects</a>
            </li>
          
            
            
            <li class="" >
              <a class="" href="/article">Articles</a>
            </li>
          
            
            
              
            
            <li class="active" >
              <a class="active" href="/snippet">Snippets</a>
            </li>
          
        </ul>
      </div>
    </div>
  </nav>

  

  <div id="main">
    <div class="container">

      

      <div class="three columns align-center">
        <div style="margin-top:50px;"><a href="/"><img src="/img/braindump-64x64.png" height="64" width="64"></a></div>
        <div class="mtop"><a href="/" class="nobr nou" style="color:#555;"><b>Rodney Waldhoff</b></a></div>
        <ul class="mtop">
          <li><a class="flatbutton" title="github.com/rodw" href="https://github.com/rodw"><img style="vertical-align:middle; float:left;" src="/img/octocat-24x24.png" height="24" width="24"><span class="float-right">GitHub</span></a></li>
          <li><a class="flatbutton" title="Rod @ LinkedIn" href="http://www.linkedin.com/in/rwald"><img style="vertical-align:middle; float:left;" src="/img/linkedin-24x24.png" height="24" width="24"><span class="float-right">LinkedIn</span></a></a></li>
          <li><a class="flatbutton" title="Rod @ Twitter" href="https://twitter.com/RodWaldhoff"><img style="vertical-align:middle; float:left;" src="/img/twitter-24x24.png" height="24" width="24"><span class="float-right">Twitter</span></a></a></li>
          <li><a class="flatbutton" title="Rod @ StackOverflow" href="http://stackoverflow.com/users/1225825/rod"><img style="vertical-align:middle; float:left;" src="/img/stackoverflow-24x24.png" height="24" width="24"><span class="float-right">SOflow</span></a></a></li>
          <li><a class="flatbutton" title="Rod @ Math.StackExchange" href="http://math.stackexchange.com/users/116929/rod"><img style="vertical-align:middle; float:left;" src="/img/math-stackexchange-24x24.png" height="24" width="24"><span class="float-right">Math@SE</span></a></a></li>
          <li><a class="flatbutton" title="Rod @ TeX.StackExchange" href="http://tex.stackexchange.com/users/37896/rod"><img style="vertical-align:middle; float:left;" src="/img/tex-stackexchange-24x24.png" height="24" width="24"><span class="float-right">TeX@SE</span></a></a></li>
          <li><a class="flatbutton" title="The Graphviz Cookbook" href="http://noumlaut.com/graphviz-cookbook"><img style="vertical-align:middle; float:left;" src="/img/noumlaut-24x24.png" height="24" width="24"><span class="float-right">GV Book</span></a></a></li>
          <li><a class="flatbutton" title="Resume/CV for Rodney Waldhoff (PDF)" href="/img/Waldhoff-Rodney-resume-2014-02.pdf"><img style="vertical-align:middle; float:left;" src="/img/rod-photo-grayscale-24x24.png" height="24" width="24"><span class="float-right">Resume</span></a></li>
        </ul>
      </div>

      

      

      
        <div class="thirteen columns">
          <div id="page-header" class="half-bottom mtop">
            
              <h1 class=" remove-bottom">3 html snippets</h1>
            
            <div class="page-class remove-bottom">
              
                  <a href="/snippet">Snippets</a> are tiny notes I've collected for easy reference.
                
            </div>
          </div>
          
        </div>
      

      

      <div class="thirteen columns bulleted">
        
  <div class="snippet">
    
      <a class="permalink" href="/snippet/s/cli-for-html-extraction.html">
        <h2 class="half-bottom">Command-line tool for extracting content from XML and HTML documents</h2>
      </a>
    
    <div>
      <p><a href="http://videlibri.sourceforge.net/xidel.html">Xidel</a> is a robust tool for extracting and transforming XML/HTML content on the commmand line.</p>

<p>It&rsquo;s like <code>wget</code> or <code>curl</code> with a CSS and XPath/XQuery engine (among other features), attached.</p>

<p>Xidel doesn&rsquo;t seem to be in the package management repositories I normally use, but you can <a href="http://videlibri.sourceforge.net/xidel.html#downloads">download it here</a>.</p>

<p>The following example will (1) download a web page, (2) extract a list of links (specified via CSS selector) from it, (3) download the page corresponding to each of those links and finally (4) extract specific pieces of content (specified by CSS selectors) from each page:</p>

<div class="highlight"><pre><code class="console"><span class="gp">$</span> xidel <span class="o">[</span>URL-OF-INDEX-PAGE<span class="o">]</span> <span class="se">\</span>
<span class="go">  --follow &quot;css(&#39;[CSS-SELECTOR-FOR-LINKS]&#39;)&quot; \</span>
<span class="go">  --css &quot;[CSS-SELECTOR-FOR-SOME-TEXT]&quot; \</span>
<span class="go">  --extract &quot;inner-html(css(&#39;[CSS-SELECTOR-FOR-SOME-HTML]&#39;))&quot;</span>
</code></pre></div>


<p>As a concrete example, the command:</p>

<div class="highlight"><pre><code class="console"><span class="gp">$</span> xidel http://reddit.com -f  <span class="s2">&quot;css(&#39;a&#39;)&quot;</span> --css title
</code></pre></div>


<p>will download every page linked from the reddit.com homepage and print the content of its <code>title</code> tag.</p>

<p>There are several more <a href="http://videlibri.sourceforge.net/xidel.html#examples">examples on the Xidel site</a>.</p>

    </div>
    <div class="align-right">
      <small>Tags: <a href="/snippet/t/linux.html">linux</a>, <a href="/snippet/t/cli.html">cli</a>, <a href="/snippet/t/xml.html">xml</a>, <a href="/snippet/t/css.html">css</a>, <a href="/snippet/t/html.html">html</a> and <a href="/snippet/t/xpath.html">xpath</a>.</small>
    </div>    
    
  </div>
  <!-- <hr/> -->

  <div class="snippet">
    
      <a class="permalink" href="/snippet/s/nodejs-sql-to-html.html">
        <h2 class="half-bottom">A General Purpose SQL-to-HTML Routine for CoffeeScript/JavaScript/Node.js</h2>
      </a>
    
    <div>
      <p>Using <a href="https://github.com/felixge/node-mysql">node-mysql</a> or similar, the following CoffeeScript routine will generate an HTML table containing the data in a SQL result set, including column headings:</p>

<div class="highlight"><pre><code class="coffeescript">  <span class="nx">sql_to_html</span><span class="o">:</span><span class="nf">(connection,query,bindvars,callback)=&gt;</span>
    <span class="nx">connection</span><span class="p">.</span><span class="nx">query</span> <span class="nx">query</span><span class="p">,</span> <span class="nx">bindvars</span><span class="p">,</span> <span class="nf">(err,rows,fields)=&gt;</span>
      <span class="k">if</span> <span class="nx">err</span><span class="o">?</span>
         <span class="nx">callback</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="nv">buffer = </span><span class="s">&#39;&lt;table border=1&gt;&lt;tr&gt;&#39;</span>
        <span class="k">for</span> <span class="nx">field</span> <span class="k">in</span> <span class="nx">fields</span>
          <span class="nx">buffer</span> <span class="o">+=</span> <span class="s">&quot;&lt;th&gt;</span><span class="si">#{</span><span class="nx">field</span><span class="p">.</span><span class="nx">name</span><span class="si">}</span><span class="s">&lt;/th&gt;&quot;</span>
        <span class="nx">buffer</span> <span class="o">+=</span> <span class="s">&#39;&lt;/tr&gt;&#39;</span>
        <span class="k">for</span> <span class="nx">row</span> <span class="k">in</span> <span class="nx">rows</span>
          <span class="nx">buffer</span> <span class="o">+=</span> <span class="s">&#39;&lt;tr&gt;&#39;</span>
          <span class="k">for</span> <span class="nx">field</span> <span class="k">in</span> <span class="nx">fields</span>
            <span class="nx">buffer</span> <span class="o">+=</span> <span class="s">&quot;&lt;td&gt;</span><span class="si">#{</span><span class="nx">row</span><span class="p">[</span><span class="nx">field</span><span class="p">.</span><span class="nx">name</span><span class="p">]</span><span class="si">}</span><span class="s">&lt;/td&gt;&quot;</span>
          <span class="nx">buffer</span> <span class="o">+=</span> <span class="s">&#39;&lt;/tr&gt;&#39;</span>
        <span class="nx">buffer</span> <span class="o">+=</span> <span class="s">&#39;&lt;/table&gt;&#39;</span>
        <span class="nx">callback</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span><span class="nx">buffer</span><span class="p">)</span>
</code></pre></div>




    </div>
    <div class="align-right">
      <small>Tags: <a href="/snippet/t/coffeescript.html">coffeescript</a>, <a href="/snippet/t/node-js.html">node.js</a>, <a href="/snippet/t/sql.html">sql</a>, <a href="/snippet/t/mysql.html">mysql</a> and <a href="/snippet/t/html.html">html</a>.</small>
    </div>    
    
  </div>
  <!-- <hr/> -->

  <div class="snippet">
    
      <a class="permalink" href="/snippet/s/zero-width-space-char.html">
        <h2 class="half-bottom">breaking non-space (zero-width space)</h2>
      </a>
    
    <div>
      <p>To insert a zero-width space character (as a hint to the layout engine that it <em>could</em> insert a line break here) in HTML:</p>

<div class="highlight"><pre><code class="html"><span class="ni">&amp;#x200B;</span>
</code></pre></div>


<p>Or in Latex:</p>

<div class="highlight"><pre><code class="latex"><span class="k">\hspace</span><span class="nb">{</span>0pt<span class="nb">}</span>
</code></pre></div>




    </div>
    <div class="align-right">
      <small>Tags: <a href="/snippet/t/html.html">html</a> and <a href="/snippet/t/latex.html">latex</a>.</small>
    </div>    
    
  </div>
  <!-- <hr/> -->



        
            <div style="text-align:right; color: rgb(119, 119, 119); font-size: 12px;"><a href="/snippet">Snippets</a> are tiny notes I've collected for easy reference.</div>
          
      </div>

    </div>

  </div>

  

  <div id="footer">
    <div class="container">
      <div class="sixteen columns align-center">
        <p class="half-bottom">
          <span class="nobr">rw&#97;ldho<script language="javascript">(function(){var f=function(c) { document.write(String.fromCharCode(c)); }; f(0146); f(0x66); f(0100); })();</script>g&#109;ail&#46;com</span>
          &nbsp;|&nbsp;
          <span class="nobr">(&#55;03) 593-2<script language="javascript">document.write("3"); document.write((3-2+1)+"");</script>9</span>
        </p>
        <p class="half-bottom">
          <span class="nobr"><a href="/">heyrod.com</a></span>
          &nbsp;|&nbsp;
          <span class="nobr"><a href="/page/colophon.html">credits</a></span>
        </p>
        <p class="half-bottom">&copy; Copyright 2012-2014 Rodney Waldhoff.</p>
        <div id="caveator">
          <p class="smallprint">This page was generated at  6:39 PM on 18 February 2014</p>
        </div>
      </div>
    </div>
  </div>
</body>
</html>
