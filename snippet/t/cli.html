<!DOCTYPE html>

<!--[if lt IE 7 ]><html class="ie ie6" lang="en"> <![endif]-->
<!--[if IE 7 ]><html class="ie ie7" lang="en"> <![endif]-->
<!--[if IE 8 ]><html class="ie ie8" lang="en"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!--><html lang="en"> <!--<![endif]-->
<head>
	<meta charset="utf-8">
  <title>16 cli snippets</title>
	
	<meta name="author" content="rod">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
	<!--[if lt IE 9]>
		<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->

  
  <link rel="icon" type="image/svg+xml" href="img/braindump-mod.svg"/>
	<link rel="alternate shortcut icon" href="img/favicon.ico">
	<link rel="apple-touch-icon" sizes="57x57" href="img/braindump-57x57.png">
	<link rel="apple-touch-icon" sizes="72x72" href="img/braindump-72x72.png">
	<link rel="apple-touch-icon" sizes="114x114" href="img/braindump-114x114.png">
	<link rel="apple-touch-icon" sizes="144x144" href="img/braindump-144x144.png">
  <link rel="apple-touch-startup-image" sizes="320x460" href="img/startup-320x460.png">

	<link rel="stylesheet" href="/css/skeleton-all-min.css">
	<link rel="stylesheet" href="/css/style.min.css">

  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-34329491-1']);
    _gaq.push(['_trackPageview']);
    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>

</head>

<body>

  

  <nav id="primary">
    <div class="container">
      <div class="fourteen columns offset-by-two">
        <ul>
          
            
            
            <li class="" >
              <a class="" href="/">Home</a>
            </li>
          
            
            
            <li class="" >
              <a class="" href="/project">Projects</a>
            </li>
          
            
            
            <li class="" >
              <a class="" href="/article">Articles</a>
            </li>
          
            
            
              
            
            <li class="active" >
              <a class="active" href="/snippet">Snippets</a>
            </li>
          
        </ul>
      </div>
    </div>
  </nav>

  

  <div id="mainbody">
    <div class="container">

      

      <div id="content-jump" class="align-center"><a href="#maincontent">Jump to content.</a></div>
      <div class="three columns align-center">
        <div style="margin-top:50px;"><a href="/"><img src="/img/braindump-64x64.png" height="64" width="64"></a></div>
        <div class="mtop"><a href="/" class="nobr nou" style="color:#555;"><b>Rodney Waldhoff</b></a></div>
        <ul class="mtop">
          <li><a class="flatbutton" title="github.com/rodw" href="https://github.com/rodw"><img style="vertical-align:middle; float:left;" src="/img/octocat-24x24.png" height="24" width="24"><span class="float-right">GitHub</span></a></li>
          <li><a class="flatbutton" title="Rod @ LinkedIn" href="http://www.linkedin.com/in/rwald"><img style="vertical-align:middle; float:left;" src="/img/linkedin-24x24.png" height="24" width="24"><span class="float-right">LinkedIn</span></a></a></li>
          <li><a class="flatbutton" title="Rod @ Twitter" href="https://twitter.com/RodWaldhoff"><img style="vertical-align:middle; float:left;" src="/img/twitter-24x24.png" height="24" width="24"><span class="float-right">Twitter</span></a></a></li>
          <li><a class="flatbutton" title="Rod @ StackOverflow" href="http://stackoverflow.com/users/1225825/rod"><img style="vertical-align:middle; float:left;" src="/img/stackoverflow-24x24.png" height="24" width="24"><span class="float-right">SOflow</span></a></a></li>
          <!--
          <li><a class="flatbutton" title="Rod @ Math.StackExchange" href="http://math.stackexchange.com/users/116929/rod"><img style="vertical-align:middle; float:left;" src="/img/math-stackexchange-24x24.png" height="24" width="24"><span class="float-right">Math@SE</span></a></a></li>
          <li><a class="flatbutton" title="Rod @ TeX.StackExchange" href="http://tex.stackexchange.com/users/37896/rod"><img style="vertical-align:middle; float:left;" src="/img/tex-stackexchange-24x24.png" height="24" width="24"><span class="float-right">TeX@SE</span></a></a></li>
          -->
          <li><a class="flatbutton" title="The Graphviz Cookbook" href="http://noumlaut.com/graphviz-cookbook"><img style="vertical-align:middle; float:left;" src="/img/noumlaut-24x24.png" height="24" width="24"><span class="float-right">GV Book</span></a></a></li>
          <li><a class="flatbutton" title="Resume/CV for Rodney Waldhoff (PDF)" href="/img/Waldhoff-Rodney-resume-2014-02.pdf"><img style="vertical-align:middle; float:left;" src="/img/rod-photo-grayscale-24x24.png" height="24" width="24"><span class="float-right">Resume</span></a></li>
        </ul>
      </div>

      <div class="thirteen columns"><a name="maincontent"></a></div>
      
      
      
      <div class="thirteen columns">
        <div id="page-header" class="half-bottom mtop">
          
            <h1 class=" remove-bottom">16 cli snippets</h1>
          
          <div class="page-class remove-bottom">
            
                <a href="/snippet">Snippets</a> are tiny notes I've collected for easy reference.
              
          </div>
        </div>
        
      </div>
    
    
      <div class="thirteen columns bulleted">
        
  <div class="snippet">
    
      <a class="permalink" href="/snippet/s/python-static-web-server.html">
        <h2 class="half-bottom">launch an HTTP server serving the current directory using Python</h2>
      </a>
    
    <div>
      <p>The Python <code>SimpleHTTPServer</code> module makes it easy to launch a simple web server using a current working directory as the &ldquo;docroot&rdquo;.</p>

<p>With Python 2:</p>

<div class="highlight"><pre><code class="console"><span class="gp">$</span> python -m SimpleHTTPServer
</code></pre></div>


<p>or with Python 3:</p>

<div class="highlight"><pre><code class="console"><span class="gp">$</span> python3 -m http.server
</code></pre></div>


<p>By default, each will bind to port 8080, hence <code>http://localhost:8080/</code> will serve the top level of the working directory tree.  Hit <code>Ctrl-c</code> to stop.</p>

<p>Both accept an optional port number:</p>

<div class="highlight"><pre><code class="console"><span class="gp">$</span> python -m SimpleHTTPServer 3001
</code></pre></div>


<p>or</p>

<div class="highlight"><pre><code class="console"><span class="gp">$</span> python3 -m http.server 3001
</code></pre></div>


<p>if you want to bind to something other than port 8080.</p>

    </div>
    <div class="align-right">
      <small>Tags: <a href="/snippet/t/python.html">python</a>, <a href="/snippet/t/http.html">http</a>, <a href="/snippet/t/cli.html">cli</a> and <a href="/snippet/t/one-liner.html">one-liner</a>.</small>
    </div>    
    
  </div>
  <!-- <hr/> -->

  <div class="snippet">
    
      <a class="permalink" href="/snippet/s/python-pretty-print-json-tool.html">
        <h2 class="half-bottom">Pretty-print JSON with Python json.tool</h2>
      </a>
    
    <div>
      <p>Pretty-print a JSON file using Python (v2.5+)&rsquo;s built-in <code>json.tool</code> module:</p>

<div class="highlight"><pre><code class="console"><span class="gp">$</span> cat MYFILE.json <span class="p">|</span> python -m json.tool
</code></pre></div>




    </div>
    <div class="align-right">
      <small>Tags: <a href="/snippet/t/python.html">python</a>, <a href="/snippet/t/json.html">json</a>, <a href="/snippet/t/cli.html">cli</a> and <a href="/snippet/t/one-liner.html">one-liner</a>.</small>
    </div>    
    
  </div>
  <!-- <hr/> -->

  <div class="snippet">
    
      <a class="permalink" href="/snippet/s/python-csv-to-json-array.html">
        <h2 class="half-bottom">Python one-liner for reading a CSV file into a JSON array of arrays</h2>
      </a>
    
    <div>
      <p>Reading a CSV file into 2d Python array (an array of arrays):</p>

<div class="highlight"><pre><code class="python"><span class="kn">import</span> <span class="nn">csv</span>
<span class="n">array</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">csv</span><span class="o">.</span><span class="n">reader</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span> <span class="n">MYFILE</span><span class="o">.</span><span class="n">csv</span> <span class="p">)))</span>
</code></pre></div>


<p>Dumping that as JSON (via the command-line):</p>

<div class="highlight"><pre><code class="console"><span class="gp">$</span> python -c <span class="s2">&quot;import json,csv;print json.dumps(list(csv.reader(open( CSV-FILENAME ))))&quot;</span>
</code></pre></div>




    </div>
    <div class="align-right">
      <small>Tags: <a href="/snippet/t/python.html">python</a>, <a href="/snippet/t/json.html">json</a> and <a href="/snippet/t/cli.html">cli</a>.</small>
    </div>    
    
  </div>
  <!-- <hr/> -->

  <div class="snippet">
    
      <a class="permalink" href="/snippet/s/cli-for-html-extraction.html">
        <h2 class="half-bottom">Command-line tool for extracting content from XML and HTML documents</h2>
      </a>
    
    <div>
      <p><a href="http://videlibri.sourceforge.net/xidel.html">Xidel</a> is a robust tool for extracting and transforming XML/HTML content on the commmand line.</p>

<p>It&rsquo;s like <code>wget</code> or <code>curl</code> with a CSS and XPath/XQuery engine (among other features), attached.</p>

<p>Xidel doesn&rsquo;t seem to be in the package management repositories I normally use, but you can <a href="http://videlibri.sourceforge.net/xidel.html#downloads">download it here</a>.</p>

<p>The following example will (1) download a web page, (2) extract a list of links (specified via CSS selector) from it, (3) download the page corresponding to each of those links and finally (4) extract specific pieces of content (specified by CSS selectors) from each page:</p>

<div class="highlight"><pre><code class="console"><span class="gp">$</span> xidel <span class="o">[</span>URL-OF-INDEX-PAGE<span class="o">]</span> <span class="se">\</span>
<span class="go">  --follow &quot;css(&#39;[CSS-SELECTOR-FOR-LINKS]&#39;)&quot; \</span>
<span class="go">  --css &quot;[CSS-SELECTOR-FOR-SOME-TEXT]&quot; \</span>
<span class="go">  --extract &quot;inner-html(css(&#39;[CSS-SELECTOR-FOR-SOME-HTML]&#39;))&quot;</span>
</code></pre></div>


<p>As a concrete example, the command:</p>

<div class="highlight"><pre><code class="console"><span class="gp">$</span> xidel http://reddit.com -f  <span class="s2">&quot;css(&#39;a&#39;)&quot;</span> --css title
</code></pre></div>


<p>will download every page linked from the reddit.com homepage and print the content of its <code>title</code> tag.</p>

<p>There are several more <a href="http://videlibri.sourceforge.net/xidel.html#examples">examples on the Xidel site</a>.</p>

    </div>
    <div class="align-right">
      <small>Tags: <a href="/snippet/t/linux.html">linux</a>, <a href="/snippet/t/cli.html">cli</a>, <a href="/snippet/t/xml.html">xml</a>, <a href="/snippet/t/css.html">css</a>, <a href="/snippet/t/html.html">html</a>, <a href="/snippet/t/xpath.html">xpath</a> and <a href="/snippet/t/one-liner.html">one-liner</a>.</small>
    </div>    
    
  </div>
  <!-- <hr/> -->

  <div class="snippet">
    
      <a class="permalink" href="/snippet/s/less-chop-long-lines.html">
        <h2 class="half-bottom">Use `less -S` for horizontal scrolling</h2>
      </a>
    
    <div>
      <p>The flag <code>-S</code> (or <code>--chop-long-lines</code>) will cause <code>less</code> to truncate lines at the screen (terminal) boundary, rather than wrapping as it does by default.  You can then scroll horizontally (with the arrow keys, for example) to view the full lines when needed.</p>

<div class="highlight"><pre><code class="console"><span class="gp">$</span> cat some_file_with_very_long_lines <span class="p">|</span> less -S
</code></pre></div>




    </div>
    <div class="align-right">
      <small>Tags: <a href="/snippet/t/bash.html">bash</a>, <a href="/snippet/t/linux.html">linux</a>, <a href="/snippet/t/one-liner.html">one-liner</a> and <a href="/snippet/t/cli.html">cli</a>.</small>
    </div>    
    
  </div>
  <!-- <hr/> -->

  <div class="snippet">
    
      <a class="permalink" href="/snippet/s/nodejs-require-main.html">
        <h2 class="half-bottom">Check `require.main` to test if a Node.js file is run directly</h2>
      </a>
    
    <div>
      <p>In Node, when a file is run directly from the command line, <code>require.main</code> is set to its <code>module</code>. Hence <code>require.main === module</code> tells you whether or not your script was invoked directly or required by another file.</p>

<p>A JavaScript &ldquo;main&rdquo; idiom:</p>

<div class="highlight"><pre><code class="javascript"><span class="err">#</span><span class="o">!</span><span class="err">/usr/bin/env node</span>
<span class="err">#</span> <span class="nx">file</span><span class="o">:</span> <span class="nx">example</span><span class="p">.</span><span class="nx">js</span>

<span class="kd">function</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// ...</span>
<span class="p">}</span>

<span class="k">if</span><span class="p">(</span><span class="nx">require</span><span class="p">.</span><span class="nx">main</span> <span class="o">===</span> <span class="nx">module</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">main</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>


<p>The <code>main</code> method will run if <code>example.js</code> is invoked via <code>node example.js</code> or <code>./example.js</code> but not when required within another script (via <code>require('./example')</code>, for example).</p>

<p>A CoffeeScript &ldquo;main&rdquo; idiom (using classes, although it doesn&rsquo;t have to):</p>

<div class="highlight"><pre><code class="coffeescript"><span class="c1">#!/usr/bin/env coffee</span>
<span class="c1"># file: example.coffee</span>
<span class="k">class</span> <span class="nx">Example</span>
  <span class="nx">main</span><span class="o">:</span><span class="p">()</span><span class="nf">-&gt;</span>
    <span class="c1"># ...</span>

<span class="k">if</span> <span class="nx">require</span><span class="p">.</span><span class="nx">main</span> <span class="o">is</span> <span class="nx">module</span>
  <span class="p">(</span><span class="k">new</span> <span class="nx">Example</span><span class="p">()).</span><span class="nx">main</span><span class="p">()</span>
</code></pre></div>


<p>The <code>main</code> method will run if <code>example.coffee</code> is invoked via <code>coffee example.coffee</code> or <code>./example.coffee</code> but not when required within another script (via <code>require('./example')</code>, for example).</p>

    </div>
    <div class="align-right">
      <small>Tags: <a href="/snippet/t/node-js.html">node.js</a>, <a href="/snippet/t/javascript.html">javascript</a>, <a href="/snippet/t/coffeescript.html">coffeescript</a> and <a href="/snippet/t/cli.html">cli</a>.</small>
    </div>    
    <div class="align-right"><small>Credit: Via <a href="http://nodejs.org/docs/v0.4.8/api/all.html#accessing_the_main_module">the nodejs.org docs</a>.</small></div>
  </div>
  <!-- <hr/> -->

  <div class="snippet">
    
      <a class="permalink" href="/snippet/s/shuf-usr-share-dict-words.html">
        <h2 class="half-bottom">Generate a random list of words with `shuf`</h2>
      </a>
    
    <div>
      <p><code>shuf</code> is (in my experience) a little known GNU utility that selects random lines (or bytes) from a file.</p>

<p>For instance, the command:</p>

<div class="highlight"><pre><code class="console"><span class="gp">$</span> shuf -n 3 /usr/share/dict/words
</code></pre></div>


<p>selects three words at random from the <code>words</code> dictionary.</p>

    </div>
    <div class="align-right">
      <small>Tags: <a href="/snippet/t/linux.html">linux</a>, <a href="/snippet/t/cli.html">cli</a> and <a href="/snippet/t/one-liner.html">one-liner</a>.</small>
    </div>    
    
  </div>
  <!-- <hr/> -->

  <div class="snippet">
    
      <a class="permalink" href="/snippet/s/git-bundle.html">
        <h2 class="half-bottom">backup a git repository with `git bundle`</h2>
      </a>
    
    <div>
      <p>Run:</p>

<div class="highlight"><pre><code class="console"><span class="gp">$</span> <span class="nb">cd </span>REPOSITORY_WORKING_DIRECTORY
<span class="gp">$</span> git bundle create PATH_TO_BUNDLE.git --all
</code></pre></div>


<p>to create a single-file backup of the entire repository.</p>

<p>Note that the bundle file is a functional Git repository:</p>

<div class="highlight"><pre><code class="console"><span class="gp">$</span> git clone PATH_TO_BUNDLE.git MY_PROJECT
</code></pre></div>




    </div>
    <div class="align-right">
      <small>Tags: <a href="/snippet/t/git.html">git</a>, <a href="/snippet/t/backup.html">backup</a>, <a href="/snippet/t/one-liner.html">one-liner</a> and <a href="/snippet/t/cli.html">cli</a>.</small>
    </div>    
    
  </div>
  <!-- <hr/> -->

  <div class="snippet">
    
      <a class="permalink" href="/snippet/s/find-large-files.html">
        <h2 class="half-bottom">Find large files on Linux.</h2>
      </a>
    
    <div>
      <p><strong>UPDATE:</strong> Reader Luc Pionchon points out that <code>sort</code> supports a <code>-h</code> parameter that sorts by &ldquo;human&rdquo; numbers, hence:</p>

<div class="highlight"><pre><code class="console"><span class="gp">$</span> du -h * <span class="p">|</span> sort -h <span class="p">|</span> tail
</code></pre></div>


<p>is probably a better alternative than any of the following.</p>

<p><strike></p>

<div class="highlight"><pre><code class="console"><span class="gp">$</span> du -h * <span class="p">|</span> grep <span class="s2">&quot;^[0-9.]*M&quot;</span> <span class="p">|</span> sort -n
</code></pre></div>


<p>This finds files at least 1 MB in size and then sorts them by size.  Change <code>M</code> to <code>G</code> for files at least 1 GB in size.</p>

<p>(Caveat: files 1 GB or larger will be missed by the MB version.  You can use:</p>

<div class="highlight"><pre><code class="console"><span class="gp">$</span> du -h * <span class="p">|</span> egrep <span class="s2">&quot;^[0-9.]*(M|G)&quot;</span>
</code></pre></div>


<p>to get both, but then the <code>sort -n</code> doesn&rsquo;t work quite the way we&rsquo;d like.)</p>

<p>Of course, you could use <code>du</code> without the <code>-h</code> to get file sizes by the default block size rather than the human-readable 12.4M or 16K, etc.
</strike></p>

    </div>
    <div class="align-right">
      <small>Tags: <a href="/snippet/t/linux.html">linux</a>, <a href="/snippet/t/bash.html">bash</a>, <a href="/snippet/t/cli.html">cli</a> and <a href="/snippet/t/one-liner.html">one-liner</a>.</small>
    </div>    
    <div class="align-right"><small>Credit: Thanks to Luc Pionchon for pointing me to `sort -h`.</small></div>
  </div>
  <!-- <hr/> -->

  <div class="snippet">
    
      <a class="permalink" href="/snippet/s/using-xrandr.html">
        <h2 class="half-bottom">Set monitor resolution with xrandr</h2>
      </a>
    
    <div>
      

<div class="highlight"><pre><code class="console"><span class="gp">$</span> cvt -r -v 1920 1080
<span class="gp">#</span> 1920x1080 59.93 Hz <span class="o">(</span>CVT 2.07M9-R<span class="o">)</span> hsync: 66.59 kHz<span class="p">;</span> pclk: 138.50 MHz
<span class="go">Modeline &quot;1920x1080R&quot;  138.50  1920 1968 2000 2080  1080 1083 1088 1111 +hsync -vsync</span>
<span class="gp">$</span> xrandr --newmode <span class="s2">&quot;1920x1080R&quot;</span>  138.50  1920 1968 2000 2080  1080 1083 1088 1111 +hsync -vsync
<span class="gp">$</span> xrandr --addmode VGA1 <span class="s2">&quot;1920x1080R&quot;</span>
<span class="gp">$</span> xrandr --output VGA1 --mode <span class="s2">&quot;1920x1080R&quot;</span>
</code></pre></div>


<p>Also handy:</p>

<div class="highlight"><pre><code class="console"><span class="gp">$</span> xrandr --output LVDS1 --off --output VGA1 --auto
</code></pre></div>




    </div>
    <div class="align-right">
      <small>Tags: <a href="/snippet/t/linux.html">linux</a> and <a href="/snippet/t/cli.html">cli</a>.</small>
    </div>    
    
  </div>
  <!-- <hr/> -->

  <div class="snippet">
    
      <a class="permalink" href="/snippet/s/ruby-argf-basics.html">
        <h2 class="half-bottom">Reading from input files or STDIN in Ruby using ARGF.</h2>
      </a>
    
    <div>
      <p><code>ARGF</code> makes it easy for a Ruby script to read from STDIN, a file specified on the command-line argument or multiple files specified on the command line, all through the same interface.</p>

<p>Recall that <code>ARGV</code> array contains the arguments passed to your Ruby script on the command line.</p>

<p><code>ARGF</code> assumes that any elements that remain in <code>ARGV</code> represent files.  Methods like <code>ARGF.each</code> (accepting a block) and <code>ARGF.readlines</code> (returning an array) operate on the concatenation of all files found in <code>ARGV</code>.  If <code>ARGV</code> is empty, then <code>ARGF</code> operates on STDIN instead.</p>

<p>For example, a <code>cat</code>-like program could be implemented in Ruby as:</p>

<div class="highlight"><pre><code class="ruby"><span class="no">ARGF</span><span class="o">.</span><span class="n">each_line</span> <span class="p">{</span> <span class="o">|</span><span class="n">line</span><span class="o">|</span> <span class="nb">puts</span> <span class="n">line</span> <span class="p">}</span>
</code></pre></div>


<p>When working with <code>optparse</code>, use the <code>parse!</code> method to strip recognized &ldquo;flag&rdquo; parameters from <code>ARGV</code>, leaving only the files you want to operate so that <code>ARGF</code> works just like you want it to. For example:</p>

<div class="highlight"><pre><code class="ruby"><span class="nb">require</span> <span class="s1">&#39;optparse&#39;</span>

<span class="n">options</span> <span class="o">=</span> <span class="p">{</span> <span class="p">}</span>
<span class="n">opt_parser</span> <span class="o">=</span> <span class="no">OptionParser</span><span class="o">.</span><span class="n">new</span> <span class="k">do</span> <span class="o">|</span><span class="n">opt</span><span class="o">|</span>
  <span class="n">opt</span><span class="o">.</span><span class="n">banner</span> <span class="o">=</span> <span class="s2">&quot;Usage: </span><span class="si">#{</span><span class="vg">$0</span><span class="si">}</span><span class="s2"> [OPTIONS]&quot;</span>
  <span class="n">opt</span><span class="o">.</span><span class="n">separator</span>  <span class="s2">&quot;&quot;</span>
  <span class="n">opt</span><span class="o">.</span><span class="n">separator</span>  <span class="s2">&quot;OPTIONS&quot;</span>

  <span class="n">opt</span><span class="o">.</span><span class="n">on</span><span class="p">(</span><span class="s2">&quot;-h&quot;</span><span class="p">,</span><span class="s2">&quot;--heading HEADING&quot;</span><span class="p">,</span><span class="s2">&quot;a heading to display.&quot;</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">heading</span><span class="o">|</span>
    <span class="n">options</span><span class="o">[</span><span class="ss">:heading</span><span class="o">]</span> <span class="o">=</span> <span class="n">heading</span>
  <span class="k">end</span>

  <span class="n">opt</span><span class="o">.</span><span class="n">on</span><span class="p">(</span><span class="s2">&quot;-v&quot;</span><span class="p">,</span><span class="s2">&quot;--verbose&quot;</span><span class="p">,</span><span class="s2">&quot;be more chatty&quot;</span><span class="p">)</span> <span class="k">do</span>
    <span class="n">options</span><span class="o">[</span><span class="ss">:verbose</span><span class="o">]</span> <span class="o">=</span> <span class="kp">true</span>
  <span class="k">end</span>
<span class="k">end</span>
<span class="n">opt_parser</span><span class="o">.</span><span class="n">parse!</span>

<span class="nb">puts</span> <span class="n">options</span><span class="o">[</span><span class="ss">:heading</span><span class="o">]</span> <span class="k">unless</span> <span class="n">options</span><span class="o">[</span><span class="ss">:heading</span><span class="o">].</span><span class="n">nil?</span>
<span class="no">ARGF</span><span class="o">.</span><span class="n">each_line</span> <span class="p">{</span> <span class="o">|</span><span class="n">line</span><span class="o">|</span> <span class="nb">puts</span> <span class="n">line</span> <span class="p">}</span>
</code></pre></div>




    </div>
    <div class="align-right">
      <small>Tags: <a href="/snippet/t/ruby.html">ruby</a>, <a href="/snippet/t/cli.html">cli</a> and <a href="/snippet/t/rudimentary.html">rudimentary</a>.</small>
    </div>    
    
  </div>
  <!-- <hr/> -->

  <div class="snippet">
    
      <a class="permalink" href="/snippet/s/strip-chars-with-sed.html">
        <h2 class="half-bottom">Strip characters from a string or file</h2>
      </a>
    
    <div>
      

<div class="highlight"><pre><code class="console"><span class="gp">$</span> <span class="nb">echo</span> <span class="s2">&quot;A1B2C3&quot;</span> <span class="p">|</span> sed <span class="s1">&#39;s/[A-Z]//g&#39;</span>
<span class="go">123</span>
</code></pre></div>




    </div>
    <div class="align-right">
      <small>Tags: <a href="/snippet/t/linux.html">linux</a>, <a href="/snippet/t/text-processing.html">text-processing</a>, <a href="/snippet/t/sed.html">sed</a>, <a href="/snippet/t/cli.html">cli</a> and <a href="/snippet/t/one-liner.html">one-liner</a>.</small>
    </div>    
    
  </div>
  <!-- <hr/> -->

  <div class="snippet">
    
      
        <h2 class="half-bottom">Strip characters from a field in awk</h2>
      
    
    <div>
      <p>E.g., the following command strips alpha characters from the second (tab delimited) field.</p>

<div class="highlight"><pre><code class="console"><span class="gp">$</span> awk -F<span class="s2">&quot;\t&quot;</span> <span class="s1">&#39;{gsub(/[A-Za-z]/,&quot;&quot;,$2); print $2 }&#39;</span>
</code></pre></div>




    </div>
    <div class="align-right">
      <small>Tags: <a href="/snippet/t/linux.html">linux</a>, <a href="/snippet/t/text-processing.html">text-processing</a>, <a href="/snippet/t/awk.html">awk</a>, <a href="/snippet/t/cli.html">cli</a> and <a href="/snippet/t/one-liner.html">one-liner</a>.</small>
    </div>    
    
  </div>
  <!-- <hr/> -->

  <div class="snippet">
    
      <a class="permalink" href="/snippet/s/some-awk-basics.html">
        <h2 class="half-bottom">Some `awk` basics</h2>
      </a>
    
    <div>
      <p>Extract tab delimited fields from a file:</p>

<div class="highlight"><pre><code class="console"><span class="gp">$</span> awk -F<span class="s2">&quot;\t&quot;</span> <span class="s1">&#39;{print &quot;field one=&quot; $1 &quot;; field two=&quot; $2 }&#39;</span> file
</code></pre></div>




    </div>
    <div class="align-right">
      <small>Tags: <a href="/snippet/t/linux.html">linux</a>, <a href="/snippet/t/text-processing.html">text-processing</a>, <a href="/snippet/t/awk.html">awk</a>, <a href="/snippet/t/cli.html">cli</a> and <a href="/snippet/t/one-liner.html">one-liner</a>.</small>
    </div>    
    
  </div>
  <!-- <hr/> -->

  <div class="snippet">
    
      <a class="permalink" href="/snippet/s/skip-n-lines.html">
        <h2 class="half-bottom">Skip the first N lines in file</h2>
      </a>
    
    <div>
      <h3>using <code>tail</code></h3>

<p>To skip the first line of a file (and start piping data at the second line):</p>

<div class="highlight"><pre><code class="console"><span class="gp">$</span> tail -n +2 FILENAME
</code></pre></div>


<p>More generally:</p>

<div class="highlight"><pre><code class="console"><span class="gp">$</span> tail -n +M FILENAME
</code></pre></div>


<p>where <strong><code>M</code></strong> is the number of the first line you want to see (i.e., the number of lines to skip plus one).</p>

<h3>using <code>sed</code></h3>

<p>To skip the first line of a file (and start piping data at the second line):</p>

<div class="highlight"><pre><code class="console"><span class="gp">$</span> sed 1d FILENAME
</code></pre></div>


<p>More generally:</p>

<div class="highlight"><pre><code class="console"><span class="gp">$</span> sed A,Bd filename
</code></pre></div>


<p>when you want to exclude lines <strong><code>A</code></strong> through <strong><code>B</code></strong> from the output.</p>

    </div>
    <div class="align-right">
      <small>Tags: <a href="/snippet/t/linux.html">linux</a>, <a href="/snippet/t/text-processing.html">text-processing</a>, <a href="/snippet/t/sed.html">sed</a>, <a href="/snippet/t/cli.html">cli</a> and <a href="/snippet/t/one-liner.html">one-liner</a>.</small>
    </div>    
    
  </div>
  <!-- <hr/> -->

  <div class="snippet">
    
      <a class="permalink" href="/snippet/s/list-fonts.html">
        <h2 class="half-bottom">List Available Fonts</h2>
      </a>
    
    <div>
      <p>To view a list of available fonts, use <code>fc-list</code>.</p>

    </div>
    <div class="align-right">
      <small>Tags: <a href="/snippet/t/linux.html">linux</a>, <a href="/snippet/t/cli.html">cli</a> and <a href="/snippet/t/font.html">font</a>.</small>
    </div>    
    
  </div>
  <!-- <hr/> -->



        
            <div style="text-align:right; color: rgb(119, 119, 119); font-size: 12px;"><a href="/snippet">Snippets</a> are tiny notes I've collected for easy reference.</div>
          
      </div>
    </div>
  </div>

  

  <div id="footer">
    <div class="container">
      <div class="sixteen columns align-center">
        <p class="half-bottom">
          <span class="nobr">rw&#97;ldho<script language="javascript">(function(){var f=function(c) { document.write(String.fromCharCode(c)); }; f(0146); f(0x66); f(0100); })();</script>g&#109;ail&#46;com</span>
          &nbsp;|&nbsp;
          <span class="nobr">(&#55;03) 593-2<script language="javascript">document.write("3"); document.write((3-2+1)+"");</script>9</span>
        </p>
        <p class="half-bottom">
          <span class="nobr"><a href="/">heyrod.com</a></span>
          &nbsp;|&nbsp;
          <span class="nobr"><a href="/page/colophon.html">credits</a></span>
        </p>
        <p class="half-bottom">&copy; Copyright 2012-2014 Rodney Waldhoff.</p>
        <div id="caveator">
          <p class="smallprint">This page was generated at  1:37 PM on 23 February 2014</p>
        </div>
      </div>
    </div>
  </div>
</body>
</html>
